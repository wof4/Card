{"ast":null,"code":"import { _ as _slicedToArray } from './_rollupPluginBabelHelpers-9b6cc24f.js';\nimport IMask from 'imask/esm/imask';\nimport { useRef, useState, useCallback, useEffect } from 'react';\n\nfunction useIMask(opts) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      onAccept = _ref.onAccept,\n      onComplete = _ref.onComplete;\n\n  var ref = useRef(null);\n  var maskRef = useRef(null);\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      unmaskedValue = _useState4[0],\n      setUnmaskedValue = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      typedValue = _useState6[0],\n      setTypedValue = _useState6[1];\n\n  var _destroyMask = useCallback(function () {\n    var _maskRef$current;\n\n    (_maskRef$current = maskRef.current) === null || _maskRef$current === void 0 ? void 0 : _maskRef$current.destroy();\n    maskRef.current = null;\n  }, []);\n\n  var _onAccept = useCallback(function (event) {\n    if (!maskRef.current) return;\n    setTypedValue(maskRef.current.typedValue);\n    setUnmaskedValue(maskRef.current.unmaskedValue);\n    setValue(maskRef.current.value);\n    onAccept === null || onAccept === void 0 ? void 0 : onAccept(maskRef.current.value, maskRef.current, event);\n  }, [onAccept]);\n\n  var _onComplete = useCallback(function () {\n    return maskRef.current && (onComplete === null || onComplete === void 0 ? void 0 : onComplete(maskRef.current.value, maskRef.current));\n  }, [onComplete]);\n\n  useEffect(function () {\n    var el = ref.current;\n    if (!el || !(opts !== null && opts !== void 0 && opts.mask)) return _destroyMask();\n    var mask = maskRef.current;\n\n    if (!mask) {\n      if (el && opts !== null && opts !== void 0 && opts.mask) {\n        maskRef.current = IMask(el, opts);\n\n        if (el.defaultValue !== maskRef.current.value) {\n          _onAccept();\n        }\n      }\n    } else {\n      mask === null || mask === void 0 ? void 0 : mask.updateOptions(opts);\n    }\n  }, [opts, _destroyMask, _onAccept]);\n  useEffect(function () {\n    if (!maskRef.current) return;\n    var mask = maskRef.current;\n    mask.on('accept', _onAccept);\n    mask.on('complete', _onComplete);\n    return function () {\n      mask.off('accept', _onAccept);\n      mask.off('complete', _onComplete);\n    };\n  }, [_onAccept, _onComplete]);\n  useEffect(function () {\n    var mask = maskRef.current;\n\n    if (mask && mask.value !== value) {\n      mask.value = value;\n    }\n  }, [value]);\n  useEffect(function () {\n    var mask = maskRef.current;\n\n    if (mask && mask.unmaskedValue !== unmaskedValue) {\n      mask.unmaskedValue = unmaskedValue;\n    }\n  }, [unmaskedValue]);\n  useEffect(function () {\n    var mask = maskRef.current;\n    if (mask) mask.typedValue = typedValue;\n  }, [typedValue]);\n  useEffect(function () {\n    return _destroyMask;\n  }, [_destroyMask]);\n  return {\n    ref: ref,\n    maskRef: maskRef,\n    value: value,\n    setValue: setValue,\n    unmaskedValue: unmaskedValue,\n    setUnmaskedValue: setUnmaskedValue,\n    typedValue: typedValue,\n    setTypedValue: setTypedValue\n  };\n}\n\nexport { useIMask as default };","map":{"version":3,"sources":["C:/Users/yulya/Desktop/Новая папка/card/client/node_modules/react-imask/esm/hook.js"],"names":["_","_slicedToArray","IMask","useRef","useState","useCallback","useEffect","useIMask","opts","_ref","arguments","length","undefined","onAccept","onComplete","ref","maskRef","_useState","_useState2","value","setValue","_useState3","_useState4","unmaskedValue","setUnmaskedValue","_useState5","_useState6","typedValue","setTypedValue","_destroyMask","_maskRef$current","current","destroy","_onAccept","event","_onComplete","el","mask","defaultValue","updateOptions","on","off","default"],"mappings":"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","sourcesContent":["import { _ as _slicedToArray } from './_rollupPluginBabelHelpers-9b6cc24f.js';\nimport IMask from 'imask/esm/imask';\nimport { useRef, useState, useCallback, useEffect } from 'react';\n\nfunction useIMask(opts) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      onAccept = _ref.onAccept,\n      onComplete = _ref.onComplete;\n\n  var ref = useRef(null);\n  var maskRef = useRef(null);\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      unmaskedValue = _useState4[0],\n      setUnmaskedValue = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      typedValue = _useState6[0],\n      setTypedValue = _useState6[1];\n\n  var _destroyMask = useCallback(function () {\n    var _maskRef$current;\n\n    (_maskRef$current = maskRef.current) === null || _maskRef$current === void 0 ? void 0 : _maskRef$current.destroy();\n    maskRef.current = null;\n  }, []);\n\n  var _onAccept = useCallback(function (event) {\n    if (!maskRef.current) return;\n    setTypedValue(maskRef.current.typedValue);\n    setUnmaskedValue(maskRef.current.unmaskedValue);\n    setValue(maskRef.current.value);\n    onAccept === null || onAccept === void 0 ? void 0 : onAccept(maskRef.current.value, maskRef.current, event);\n  }, [onAccept]);\n\n  var _onComplete = useCallback(function () {\n    return maskRef.current && (onComplete === null || onComplete === void 0 ? void 0 : onComplete(maskRef.current.value, maskRef.current));\n  }, [onComplete]);\n\n  useEffect(function () {\n    var el = ref.current;\n    if (!el || !(opts !== null && opts !== void 0 && opts.mask)) return _destroyMask();\n    var mask = maskRef.current;\n\n    if (!mask) {\n      if (el && opts !== null && opts !== void 0 && opts.mask) {\n        maskRef.current = IMask(el, opts);\n\n        if (el.defaultValue !== maskRef.current.value) {\n          _onAccept();\n        }\n      }\n    } else {\n      mask === null || mask === void 0 ? void 0 : mask.updateOptions(opts);\n    }\n  }, [opts, _destroyMask, _onAccept]);\n  useEffect(function () {\n    if (!maskRef.current) return;\n    var mask = maskRef.current;\n    mask.on('accept', _onAccept);\n    mask.on('complete', _onComplete);\n    return function () {\n      mask.off('accept', _onAccept);\n      mask.off('complete', _onComplete);\n    };\n  }, [_onAccept, _onComplete]);\n  useEffect(function () {\n    var mask = maskRef.current;\n\n    if (mask && mask.value !== value) {\n      mask.value = value;\n    }\n  }, [value]);\n  useEffect(function () {\n    var mask = maskRef.current;\n\n    if (mask && mask.unmaskedValue !== unmaskedValue) {\n      mask.unmaskedValue = unmaskedValue;\n    }\n  }, [unmaskedValue]);\n  useEffect(function () {\n    var mask = maskRef.current;\n    if (mask) mask.typedValue = typedValue;\n  }, [typedValue]);\n  useEffect(function () {\n    return _destroyMask;\n  }, [_destroyMask]);\n  return {\n    ref: ref,\n    maskRef: maskRef,\n    value: value,\n    setValue: setValue,\n    unmaskedValue: unmaskedValue,\n    setUnmaskedValue: setUnmaskedValue,\n    typedValue: typedValue,\n    setTypedValue: setTypedValue\n  };\n}\n\nexport { useIMask as default };\n"]},"metadata":{},"sourceType":"module"}